<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì›Œë“œ ê°€ë””ì–¸ - íŒŒì´ë„ í”„ë¡œ ì—ë””ì…˜</title>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <style>
        /* 1. í”„ë¡œ ë°°ê²½: ë¶€ë“œëŸ¬ìš´ íŒŒìŠ¤í…” í•‘í¬ íŒ¨í„´ */
        body { 
            margin: 0; padding: 0; overflow: hidden; 
            background: radial-gradient(circle at center top, #fff0f3, #ffe3e8); /* ë” ë¶€ë“œëŸ¬ìš´ í•‘í¬ */
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffc0cb' fill-opacity='0.2'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            font-family: 'Jua', sans-serif; touch-action: none; 
        }
        #game-container { position: relative; width: 100vw; height: 100vh; }

        /* 2. í”„ë¡œí˜ì…”ë„ ìƒë‹¨ UI */
        #ui-top {
            position: absolute; top: 15px; width: 100%; text-align: center; z-index: 10;
            display: flex; flex-direction: column; align-items: center;
        }
        #score-panel {
            background: #ffffff; padding: 12px 30px; border-radius: 40px;
            box-shadow: 0 8px 20px rgba(214, 51, 132, 0.2); /* í•‘í¬ìƒ‰ ê·¸ë¦¼ì */
            border: 4px solid #ffb6c1; display: flex; flex-direction: column; align-items: center;
        }
        #score-label { font-size: 16px; color: #888; margin-bottom: 2px; }
        #score-value-box { display: flex; align-items: center; font-size: 32px; color: #d63384; font-weight: bold; }
        #score-icon { font-size: 28px; margin-left: 8px; }

        /* 3. ì¤‘ì•™ì˜ í™•ì‹¤í•œ ëª©í‘œ ìºë¦­í„° (ê·¼ìœ¡ ë‹¹ê·¼) */
        #goal-character {
            margin-top: 25px; font-size: 110px; /* í¬ê¸° í‚¤ì›€ */
            filter: drop-shadow(0 10px 15px rgba(0,0,0,0.15)); /* ì…ì²´ê° ìˆëŠ” ê·¸ë¦¼ì */
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* í†µí†µ íŠ€ëŠ” ì• ë‹ˆë©”ì´ì…˜ */
        }

        /* 4. ë–¨ì–´ì§€ëŠ” ì•„ì´í…œ (ê·€ì—¬ìš´ ë‚ ê°œ ë‹¬ë¦° ìŒì‹ë“¤) */
        .word-item { 
            position: absolute; padding: 8px 15px; border-radius: 30px; 
            font-size: 24px; cursor: pointer; user-select: none; 
            text-align: center; box-shadow: 0 6px 12px rgba(0,0,0,0.1); 
            display: flex; flex-direction: column; align-items: center; 
            border: 3px solid white; z-index: 5; transition: transform 0.1s;
            background: rgba(255, 255, 255, 0.95);
        }
        .good-word span:first-child::after { content: 'ğŸ§š'; position: absolute; font-size: 16px; top: -5px; right: -8px; } /* ë‚ ê°œ ì´ëª¨ì§€ ì¶”ê°€ */
        .good-word { color: #2e7d32; border-color: #a5d6a7; }
        .bad-word { color: #c62828; border-color: #ef9a9a; }
        .bad-word span:first-child { filter: grayscale(0.3) contrast(1.2); } /* ë‚˜ìœ ìŒì‹ì€ ì•½ê°„ íƒí•˜ê²Œ */

        /* 5. í”„ë¡œ ìŠ¤íƒ€ì¼ í•˜ë‹¨ ë°ë“œë¼ì¸ */
        #deadline-container {
            position: absolute; bottom: 15px; left: 5%; width: 90%; height: 25px;
            background: #ffcdd2; border-radius: 15px; border: 3px solid #ef5350;
            overflow: hidden; box-shadow: 0 4px 10px rgba(239, 83, 80, 0.3); z-index: 10;
        }
        #deadline-bar {
            width: 100%; height: 100%; background: linear-gradient(to right, #ef5350, #ff1744);
            background-image: repeating-linear-gradient(45deg, rgba(255,255,255,0.2) 0, rgba(255,255,255,0.2) 10px, transparent 10px, transparent 20px);
            animation: slideBg 2s linear infinite; /* ë¹—ê¸ˆ ë¬´ëŠ¬ ì›€ì§ì„ */
        }
        #deadline-text {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: white; font-size: 14px; font-weight: bold; text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        @keyframes slideBg { from { background-position: 0 0; } to { background-position: 40px 0; } }
        
        /* 6. ì‹œì‘ ë²„íŠ¼ */
        #start-btn { 
            position: absolute; top: 65%; left: 50%; transform: translate(-50%, -50%); 
            padding: 18px 45px; font-size: 24px; font-family: 'Jua', sans-serif;
            background: linear-gradient(to bottom, #ff8b94, #ff6b81); 
            border: 4px solid white; color: white; border-radius: 50px; cursor: pointer; 
            box-shadow: 0 8px 0px #c23653, 0 15px 20px rgba(194, 54, 83, 0.3); z-index: 20;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2); transition: all 0.1s;
        }
        #start-btn:active { top: 66%; box-shadow: 0 4px 0px #c23653, 0 8px 15px rgba(194, 54, 83, 0.3); }

        /* 7. 'POW!' í­ë°œ íš¨ê³¼ */
        .pow-effect {
            position: absolute; pointer-events: none; z-index: 7;
            font-size: 40px; font-weight: bold; color: #ffeb3b;
            text-shadow: 3px 3px 0 #f44336, -3px -3px 0 #f44336, 3px -3px 0 #f44336, -3px 3px 0 #f44336;
            animation: powAnim 0.5s forwards ease-out;
        }
        @keyframes powAnim { 0% { transform: scale(0.5) rotate(-10deg); opacity: 0; } 50% { transform: scale(1.3) rotate(5deg); opacity: 1; } 100% { transform: scale(1) rotate(0deg); opacity: 0; } }
        .particle { position: absolute; pointer-events: none; z-index: 6; animation: explode 0.6s forwards ease-out; }
        @keyframes explode { 0% { transform: translate(0, 0) scale(1); opacity: 1; } 100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; } }
    </style>
</head>
<body>

<div id="game-container">
    <div id="ui-top">
        <div id="score-panel">
            <div id="score-label">Health Score</div>
            <div id="score-value-box"><span id="score-text">0</span><span id="score-icon">ğŸ’ª</span></div>
        </div>
        <div id="goal-character">ğŸ¥•ğŸ’ª</div>
    </div>
    
    <div id="deadline-container">
        <div id="deadline-bar"></div>
        <div id="deadline-text">deadline</div>
    </div>
    <button id="start-btn">ğŸ”¥ ê±´ê°• ë„ì „ ì‹œì‘! ğŸ”¥</button>
</div>

<script>
    let audioCtx;
    function initAudio() { if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)(); }
    function playSound(type) {
        if (!audioCtx) return;
        const osc = audioCtx.createOscillator(); const gain = audioCtx.createGain();
        osc.connect(gain); gain.connect(audioCtx.destination);
        if (type === 'good') { 
            osc.frequency.setValueAtTime(800, audioCtx.currentTime); gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.2); 
        } else { 
            osc.type='square'; osc.frequency.setValueAtTime(120, audioCtx.currentTime); gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.15); 
        }
        osc.start(); osc.stop(audioCtx.currentTime + 0.2);
    }

    function createExplosion(x, y) {
        const pow = document.createElement('div');
        pow.className = 'pow-effect'; pow.innerText = 'POW!';
        pow.style.left = `${x}px`; pow.style.top = `${y}px`;
        container.appendChild(pow); setTimeout(() => pow.remove(), 500);
        for (let i = 0; i < 8; i++) {
            const p = document.createElement('div'); p.className = 'particle'; p.innerHTML = 'ğŸ’¥';
            p.style.left = `${x}px`; p.style.top = `${y}px`; p.style.fontSize = `${Math.random()*15+10}px`;
            p.style.setProperty('--tx', `${(Math.random()-0.5)*120}px`); p.style.setProperty('--ty', `${(Math.random()-0.5)*120}px`);
            container.appendChild(p); setTimeout(() => p.remove(), 600);
        }
    }

    const container = document.getElementById('game-container');
    const scoreText = document.getElementById('score-text');
    const startBtn = document.getElementById('start-btn');
    const goalChar = document.getElementById('goal-character');
    let score = 0, gameActive = false, speed = 2.5;

    const healthyFood = [{ text: 'ë¸Œë¡œì½œë¦¬', icon: 'ğŸ¥¦' }, { text: 'ì‚¬ê³¼', icon: 'ğŸ' }];
    const junkFood = [{ text: 'ë„ë„›', icon: 'ğŸ©' }, { text: 'ì½œë¼', icon: 'ğŸ¥¤' }];

    function createFood() {
        if (!gameActive) return;
        const isGood = Math.random() > 0.45;
        const data = isGood ? healthyFood[Math.floor(Math.random() * healthyFood.length)] : junkFood[Math.floor(Math.random() * junkFood.length)];
        const el = document.createElement('div');
        el.className = `word-item ${isGood ? 'good-word' : 'bad-word'}`;
        el.innerHTML = `<span style="font-size:32px">${data.icon}</span><span>${data.text}</span>`;
        el.style.left = `${Math.random() * (window.innerWidth - 100)}px`; el.style.top = `-100px`;
        container.appendChild(el);
        let currentY = -100;
        function move() {
            if (!gameActive) { el.remove(); return; }
            currentY += speed; el.style.top = `${currentY}px`;
            if (currentY > window.innerHeight - 70) { gameOver(); el.remove(); } else { requestAnimationFrame(move); }
        }
        el.onclick = (e) => {
            e.stopPropagation(); const rect = el.getBoundingClientRect();
            if (isGood) { 
                score += 15; playSound('good'); el.style.transform = 'scale(1.4) translateY(20px)'; 
                goalChar.style.transform = `scale(${1 + score/1000})`;
            } else { 
                score += 10; playSound('bad'); if (navigator.vibrate) navigator.vibrate(50);
                createExplosion(rect.left + rect.width/2, rect.top + rect.height/2);
                el.style.opacity = '0';
            }
            scoreText.innerText = score; el.style.pointerEvents = 'none';
            if(isGood) setTimeout(() => el.remove(), 250); else el.remove();
            speed += 0.02;
        };
        requestAnimationFrame(move); setTimeout(createFood, Math.max(600, 2000 - (score * 5)));
    }
    function gameOver() { gameActive = false; alert(`ë„ì „ ì¢…ë£Œ!\nâ­ ìµœì¢… Health Score: ${score} â­`); location.reload(); }
    startBtn.onclick = () => { initAudio(); if (audioCtx.state === 'suspended') audioCtx.resume(); startBtn.style.display = 'none'; gameActive = true; createFood(); };
</script>
</body>
</html>
